<!-- æ”¹è‰¯ç‰ˆï¼šæ¨ã—æ´»NFCãŠã¿ãã˜ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆç”»åƒå¯¾å¿œï¼†ã‚¹ãƒãƒ›æœ€é©åŒ–ï¼‰ -->
<script src="https://cdn.tailwindcss.com"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@700&family=Bebas+Neue&display=swap');
  :root {
    /* ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼ã‚’å®šç¾©ï¼ˆä¾‹ï¼šãƒ©ã‚¤ãƒ–Tã‚·ãƒ£ãƒ„ã®è‰²ãªã©ï¼‰ */
    --main-color: #ff3366; /* ãƒãƒƒãƒ—ãªãƒ”ãƒ³ã‚¯ */
    --accent-color: #ffe66d; /* ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã®é»„è‰² */
  }
  body {
    font-family: 'M PLUS Rounded 1c', sans-serif;
    background-color: var(--main-color);
    background-image: linear-gradient(135deg, var(--main-color) 0%, #ff6699 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0;
    margin: 0;
    overflow-x: hidden;
  }
  .omikuji-card {
    background-color: #ffffff;
    max-width: 90vw; /* ã‚¹ãƒãƒ›ç”»é¢ã®90%å¹… */
    min-height: 80vh; /* ç”»é¢ã‚’å¤§ããä½¿ã† */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-radius: 2rem;
    padding: 1.5rem;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
  }
  .shaker {
      animation: shake 0.8s cubic-bezier(.36,.07,.19,.97) both;
      transform: translate3d(0, 0, 0);
  }
  @keyframes shake {
      10%, 90% { transform: translate3d(-1px, 0, 0); }
      20%, 80% { transform: translate3d(+2px, 0, 0); }
      30%, 70% { transform: translate3d(-4px, 0, 0); }
      40%, 60% { transform: translate3d(+4px, 0, 0); }
      50% { transform: translate3d(-4px, 0, 0); }
  }
</style>

<div id="app" class="omikuji-card w-full text-center">
  <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
  <h1 class="font-['Bebas_Neue'] text-5xl md:text-6xl text-gray-800 mb-4 tracking-wider leading-none">
    LIVE LUCK CHANCE
  </h1>
  <p class="text-xl text-gray-700 mb-8 font-bold border-b-2 border-gray-200 pb-2">
    æ¨ã—ã¨ã®é‹è©¦ã—ï¼ãŠã¿ãã˜ã‚’å¼•ã“ã†ï¼
  </p>

  <!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
  <div id="result-display" class="w-full flex flex-col items-center justify-center flex-grow">
    <!-- åˆæœŸçŠ¶æ…‹ï¼šãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º -->
    <img id="placeholder-image" src="kanaboon_jackintour_2.png" onerror="this.src='https://placehold.co/200x200/ff6699/ffffff?text=PUSH'" class="w-48 h-48 rounded-full object-cover shadow-xl mb-10 border-4 border-gray-100 transition duration-500" alt="Placeholder image">
    
    <button id="draw-button" class="bg-[var(--main-color)] hover:bg-pink-700 text-white font-bold py-4 px-10 rounded-full shadow-2xl transition duration-300 transform hover:scale-105 text-2xl animate-pulse">
      ãŠã¿ãã˜ã‚’å¼•ãï¼
    </button>
  </div>
</div>

<script>
  // --- ğŸŒŸ çµæœã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã¯ã“ã“ã‚’ç·¨é›†ï¼ ğŸŒŸ ---
  // é‡ã¿ï¼ˆå‡ºç¾ç‡ï¼‰ã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚æ•°å­—ãŒå¤§ãã„ã»ã©å‡ºã‚„ã™ã„ã§ã™ã€‚
  const results = [
    { 
        label: "ğŸŒŸ å¤§å¤§å¤§å‰ ğŸŒŸ", 
        message: "ä»Šæ—¥ã®ãƒ•ã‚¡ãƒ³ã‚µã¯ç¢ºå®šï¼æ¨ã—ã¨ç›®ãŒåˆã£ã¡ã‚ƒã†ã‹ã‚‚ï¼æœ€é«˜ã®ãƒ©ã‚¤ãƒ–ã‚’æ¥½ã—ã‚“ã§ï¼", 
        color: "text-red-600", 
        weight: 1, 
        image: "[å¤§å¤§å¤§å‰ã®ç”»åƒURLã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘]" // æ¨ã—ã®æœ€é«˜ã®ç¬‘é¡”ãªã©
    },
    { 
        label: "âœ¨ å¤§å‰ âœ¨", 
        message: "ä¼šå ´ã«ç€ãã¾ã§ã«ã„ã„ã“ã¨ãŒã‚ã‚‹ã‹ã‚‚ã€‚ä»Šæ—¥ã¯çµ¶å¥½ã®æ¨ã—æ´»æ—¥å’Œï¼", 
        color: "text-yellow-600", 
        weight: 3, 
        image: "[å¤§å‰ã®ç”»åƒURLã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘]" // ãƒã‚¸ãƒ†ã‚£ãƒ–ãªã‚¤ãƒ©ã‚¹ãƒˆãªã©
    },
    { 
        label: "ğŸ’– ä¸­å‰ ğŸ’–", 
        message: "ä»Šæ—¥ã®æ€ã„å‡ºã¯ä¸€ç”Ÿãƒ¢ãƒï¼æœ€é«˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç„¼ãä»˜ã‘ã‚ˆã†ï¼", 
        color: "text-pink-500", 
        weight: 6, 
        image: "[ä¸­å‰ã®ç”»åƒURLã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘]" // ãƒ©ã‚¤ãƒ–ãƒ­ã‚´ãªã©
    },
    { 
        label: "ğŸ€ å‰ ğŸ€", 
        message: "é–‹æ¼”å‰ã«ç¾å‘³ã—ã„ã‚‚ã®é£Ÿã¹ã¦ãƒ‘ãƒ¯ãƒ¼ãƒãƒ£ãƒ¼ã‚¸ã—ã¦ã­ï¼ç´ æ•µãªå‡ºä¼šã„ãŒã‚ã‚‹ã‹ã‚‚ã€‚", 
        color: "text-green-500", 
        weight: 5, 
        image: "[å‰ã®ç”»åƒURLã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘]" // ãƒ¡ãƒ³ãƒãƒ¼ã‚«ãƒ©ãƒ¼ã®ã‚¤ãƒ©ã‚¹ãƒˆãªã©
    }
  ];
  // ----------------------------------------------

  const drawButton = document.getElementById('draw-button');
  const resultDisplay = document.getElementById('result-display');
  const appContainer = document.getElementById('app');

  // é‡ã¿ä»˜ãã§ãƒ©ãƒ³ãƒ€ãƒ ã«çµæœã‚’é¸ã¶é–¢æ•°
  function getWeightedRandomResult() {
    let totalWeight = results.reduce((sum, item) => sum + item.weight, 0);
    let randomNum = Math.random() * totalWeight;

    for (const result of results) {
      if (randomNum < result.weight) {
        return result;
      }
      randomNum -= result.weight;
    }
  }

  // ãŠã¿ãã˜ã‚’å¼•ãå‡¦ç†
  function drawOmikuji() {
    // ãƒœã‚¿ãƒ³é€£æ‰“é˜²æ­¢
    drawButton.disabled = true;

    // ã‚·ãƒ£ãƒƒãƒ•ãƒ«æ¼”å‡º
    appContainer.classList.add('shaker');
    resultDisplay.innerHTML = `
      <div class="flex flex-col items-center justify-center p-6 bg-white rounded-3xl">
        <svg class="animate-spin h-10 w-10 text-[var(--main-color)] mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <p class="text-xl font-bold text-gray-800">é‹å‘½ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æº–å‚™ä¸­...</p>
      </div>
    `;


    // æ¼”å‡ºæ™‚é–“å¾Œã«çµæœã‚’è¡¨ç¤º
    setTimeout(() => {
      appContainer.classList.remove('shaker');
      const selectedResult = getWeightedRandomResult();

      resultDisplay.innerHTML = `
        <div class="flex flex-col items-center p-4 w-full">
          <img src="${selectedResult.image || 'https://placehold.co/200x200/ff3366/ffffff?text=LUCK'}" 
               onerror="this.src='https://placehold.co/200x200/ff3366/ffffff?text=LUCK'"
               class="w-56 h-56 md:w-64 md:h-64 rounded-full object-cover shadow-2xl mb-6 border-4 border-[var(--accent-color)] transform rotate-2 transition duration-500 hover:rotate-0" 
               alt="Omikuji Result Image">
          
          <div class="w-full p-4 md:p-6 bg-[var(--accent-color)] border-4 border-[var(--main-color)] rounded-xl shadow-inner transform -rotate-1 transition duration-500 hover:rotate-0">
            <h2 class="text-4xl font-extrabold mb-2 text-gray-900 leading-tight">
              ${selectedResult.label}
            </h2>
            <p class="text-lg md:text-xl text-gray-800 leading-relaxed font-semibold">
              ${selectedResult.message}
            </p>
          </div>
        </div>
        <p class="text-sm text-gray-600 mt-4">
            ã“ã®ç”»é¢ã‚’ã‚¹ã‚¯ã‚·ãƒ§ã—ã¦æ¨ã—æ´»ã®æ€ã„å‡ºã«ã—ã¦ã­ï¼
        </p>
      `;
    }, 2000); // 2ç§’å¾Œã«çµæœã‚’è¡¨ç¤º
  }

  // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
  document.addEventListener('DOMContentLoaded', () => {
    const drawButtonElement = document.getElementById('draw-button');
    if (drawButtonElement) {
        drawButtonElement.addEventListener('click', drawOmikuji);
    }
  });
</script>
